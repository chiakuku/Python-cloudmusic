# 网易云音乐热歌榜获取工具

这是一个用Python编写的网易云音乐热歌榜获取工具，可以获取实时热歌榜数据并保存为JSON格式。

## 项目结构

```
cloudmusic_top50/
├── src/                    # 源代码目录
│   ├── api/               # API相关代码
│   ├── utils/             # 工具函数
│   └── config.py          # 配置文件
├── data/                  # 数据存储目录
├── requirements.txt       # 项目依赖
├── main.py               # 主程序入口
└── README.md             # 项目说明
```

## 功能特点

- 获取网易云音乐热歌榜（Top 50）
- 支持手机验证码登录
- 自动创建个人歌单并导入热歌榜歌曲
- 支持数据本地存储（JSON格式）
- 自动生成带时间戳的文件名
- 显示榜单Top 10预览

## 环境要求

- Python 3.6+
- requests
- pycryptodome

## 安装

1. 克隆或下载本项目
2. 安装依赖：
```bash
pip install -r requirements.txt
```

## 配置说明

在使用前，你可以在 `src/config.py` 文件中配置：

```python
USER_CONFIG = {
    "phone": "你的手机号",  # 可选，如不设置将在运行时要求输入
}
```

## 使用方法

1. 运行主程序：
```bash
python main.py
```

2. 按提示操作：
   - 如果未配置手机号，需要输入手机号
   - 等待接收验证码
   - 输入收到的验证码进行登录
   - 程序会自动完成后续操作

## 输出说明

程序运行后会：
1. 发送登录验证码
2. 验证码登录网易云账号
3. 获取热歌榜Top 50数据
4. 创建新的个人歌单（格式：热歌榜Top50_年月日）
5. 将50首歌曲导入到新建歌单
6. 将完整数据保存到data目录下的JSON文件中
7. 在控制台显示歌单链接和Top 10预览

## 数据格式

保存的JSON文件包含以下信息：
- 歌曲名称（name）
- 歌曲ID（id）
- 演唱者（artists）
- 专辑名（album）

## 注意事项

1. 验证码登录：
   - 每次登录都需要验证码
   - 验证码有效期为5分钟
   - 如果频繁发送验证码可能会被限制

2. 歌单创建：
   - 创建的歌单默认为公开歌单
   - 歌单名称格式：热歌榜Top50_年月日
   - 如果创建歌单失败但已登录，可以重试

3. 数据存储：
   - JSON文件保存在data目录下
   - 文件名包含时间戳，方便追踪不同时间的榜单
   - 可以通过对比不同时间的文件观察榜单变化

## 常见问题

1. 验证码发送失败
   - 检查手机号是否正确
   - 确认是否被频率限制
   - 稍等几分钟后重试

2. 登录失败
   - 确认验证码是否正确
   - 确认验证码是否在有效期内
   - 检查网络连接

3. 创建歌单失败
   - 确认是否已登录成功
   - 检查网络连接
   - 查看错误提示并解决
